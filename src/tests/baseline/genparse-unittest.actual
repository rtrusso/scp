+- State 0 ---------------------------------------
| exp -> . foo
| foo -> . bar
| foo -> . foostart bar
| foostart -> . foo comma
+-------------------------------------------------

State 0 -> State 1 on foo
State 0 -> State 2 on bar
State 0 -> State 3 on foostart

+- State 1 ---------------------------------------
| exp -> foo .
| foostart -> foo . comma
+-------------------------------------------------

State 1 -> State 4 on comma

+- State 2 ---------------------------------------
| foo -> bar .
+-------------------------------------------------

+- State 3 ---------------------------------------
| foo -> foostart . bar
+-------------------------------------------------

State 3 -> State 5 on bar

+- State 4 ---------------------------------------
| foostart -> foo comma .
+-------------------------------------------------

+- State 5 ---------------------------------------
| foo -> foostart bar .
+-------------------------------------------------

